"use strict";const e=require("../../common/vendor.js"),n={data(){return{coupon:{id:1,title:"满100减20",description:"在本店消费满100元即可使用",validity:"2024-12-31",imageUrl:"../../static/icon/优惠券.png"},redeemCode:""}},methods:{redeemCoupon(){if(!this.redeemCode){e.index.showToast({title:"请输入核销码",icon:"none"});return}e.index.request({url:"example",method:"POST",data:{code:this.redeemCode,couponId:this.coupon.id},success:t=>{t.data.success?(e.index.showToast({title:"核销成功",icon:"success"}),this.redeemCode=""):e.index.showToast({title:t.data.message||"核销失败",icon:"none"})},fail:()=>{e.index.showToast({title:"网络错误，请稍后重试",icon:"none"})}})}}};function c(t,d,u,a,o,s){return{a:o.coupon.imageUrl,b:e.t(o.coupon.title),c:e.t(o.coupon.description),d:e.t(o.coupon.validity),e:o.redeemCode,f:e.o(i=>o.redeemCode=i.detail.value),g:e.o((...i)=>s.redeemCoupon&&s.redeemCoupon(...i))}}const r=e._export_sfc(n,[["render",c],["__scopeId","data-v-c5290c67"],["__file","C:/Users/57520/Desktop/SummerPockets/uniapp-consumer-ui/pages/user/redeem.vue"]]);wx.createPage(r);
